<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>入侵人大</title>
    <script type="text/javascript" src="/js/jquery-1.11.3.js"></script>
    <script>

        /**
         * get root path, like "http://192.168.11.91", without a "/" in the end
         */
        var path = getRootPath();
        function getRootPath() {
            var strFullPath = window.document.location.href;
            var strPath = window.document.location.pathname;
            var pos = strFullPath.indexOf(strPath);
            var prePath = strFullPath.substring(0, pos);
            var postPath = strPath.substring(0, strPath.substr(1).indexOf('/') + 1);
            return (prePath + postPath);
        }

        /**
         * test for Controller Class visit
         */
        function testController() {
            $.ajax({
                type: "POST",
                url: path + "/testController",
                dataType: "text",
                success: function (msg) {
                    $("#msg").html(msg);
                }
            });
        }

        /**
         * test for Service Class visit
         */
        function testService() {
            $.ajax({
                type: "POST",
                url: path + "/testService",
                dataType: "text",
                success: function (msg) {
                    $("#msg").html(msg);
                }
            });
        }

        /**
         * test for Dao Class visit
         */
        function testDao() {
            $.ajax({
                type: "POST",
                url: path + "/testDao",
                dataType: "text",
                success: function (msg) {
                    $("#msg").html(msg);
                }
            });
        }

        /**
         * test for Redis Class visit
         */
        function testRedis() {
            $.ajax({
                type: "POST",
                url: path + "/testRedis",
                dataType: "text",
                success: function (msg) {
                    $("#msg").html(msg);
                }
            });
        }

        /**
         * test for json type return
         */
        function jsonTest() {
            $.ajax({
                type: "POST",
                url: path + "/jsonTest",
                dataType: "text",
                success: function (msg) {
                    var data = eval('(' + msg + ')');
                    alert(data.msg);
                }
            });
        }

    </script>
</head>
<body>
<h1>检测到您直接登录</h1>

<form action="http://localhost:8080/user/register" method="post">

    昵称<input th:value="${userinfo.name}" name="name"/>
    性别<input th:value="${userinfo.sex}" name="sex"/>
    头像
    <table>
        <tbody>
            <tr><td></td><td></td><td></td></tr>
            <tr><td></td><td></td></tr>
            <tr><td></td><td></td></tr>
        </tbody>
    </table>
    <input name="icon" th:value="${userinfo.icon}"/>
    <input name="type" value="0"/>

    <input type="submit" value="登录">

</form>



</body>
</html>